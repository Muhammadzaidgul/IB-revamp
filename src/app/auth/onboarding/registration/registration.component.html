<div class="col-12">
    <div class="d-flex justify-content-between">
        
        <div class="col-lg-4 col-md-3 col-sm-3 col-xs-4 p-lg-3 p-md-3 p-2">
            <app-auth-logo/>   
        </div>
        
        <div class="col-lg-4 col-md-6 col-6 col-xs-4 p-lg-3 ps-lg-0 pe-lg-0 p-md-3 p-2 mt-1">
            <p>{{currentStep }}/10</p>
            <app-auth-progress-bar [progressValue]="currentProgress" />
        </div>
        
        <div class="col-lg-4 col-md-3 col-sm-3 col-xs-4 p-lg-3 p-md-3 p-2">
            <div class="d-flex justify-content-end">
                <app-auth-login-button/> 
            </div>
        </div>

    </div>
</div>

<div class="col-12">
   <div class="col-lg-4 col-md-6 col-sm-12 col-xs-12 m-auto p-4 p-md-0" data-aos="fade-up" data-aos-duration="1000">

      <mat-stepper [linear]="isLinear" #stepper>
        <mat-step [stepControl]="firstFormGroup">
          <form [formGroup]="firstFormGroup">

            <div class="row mt-4">
                <h2>Register with Alfa Web</h2>
                <p>Please enter your CNIC number or your POC/Passport number in case you’re a non-resident Pakistani</p>
            </div>

            <div class="row mt-3">
                <mat-tab-group>
                    <mat-tab label="CNIC">
    
                        <div class="col-12 mt-3">
                            <label for=""><b>CNIC Number</b></label>
                            <input type="text" name="" id="" class="form-control mt-1" placeholder="e.g 00000-0000000-0">
                        </div>

                    </mat-tab>
                    <mat-tab label="Passport"> 
    
                        <div class="col-12 mt-3">
                            <label for=""><b>Passport Number</b></label>
                            <input type="text" name="" id="" class="form-control" placeholder="e.g 00000-0000000-0">
                        </div>
                        
                    </mat-tab>
                </mat-tab-group> 


                <!-- No Relation Found -->
                <!-- <div class="col-12" id="noRelationFound">
                    <div class="card mt-4">
                        <div class="card-body p-3">
                            <div class="d-block">
                                
                                <h4> <i class="fa fa-info-circle"></i> Relationship not found!</h4>
                                <p class="font-size-14">
                                    We’re sorry but we could not find a relationship against the CNIC you have provided. Please proceed to open a new Bank Alfalah account.
                                </p>
                                <button class="btn btn-danger">Open an account <i class="fa fa-arrow-right ps-2"></i> </button>
                            </div>
                        </div>
                    </div>
                </div> -->

                <!-- Accounts Already Exists -->
                <div class="col-12" id="noRelationFound">
                    <div class="card mt-4">
                        <div class="card-body p-3">
                            <div class="d-block">
                                
                                <h4> <i class="fa fa-info-circle"></i> Account already exists!</h4>
                                <p class="font-size-14">
                                    An account already exists for this CNIC on the registered number *********83. Please proceed to login to access your Alfa account.
                                </p>
                                <button class="btn btn-danger">Login to Alfa Web <i class="fa fa-arrow-right ps-2"></i> </button>
                            </div>
                        </div>
                    </div>
                </div>
    
                <div class="col-12 mt-4">
                    <!-- Get Started Button -->
                    <button class="w-100 btn btn-lg btn-danger" matStepperNext (click)="updateProgressBar('n')" >Get Started <i class="fa fa-arrow-right"></i></button>

                    <!-- Retry Button -->
                    <!-- <button class="w-100 btn btn-lg btn-outline-gray primary-font-color" matStepperNext>Retry <i class="fa fa-arrow-right ps-1"></i></button> -->
                </div>
            </div>

          </form>
        </mat-step>
        
        <mat-step [stepControl]="secondFormGroup">
          <form [formGroup]="secondFormGroup">

            <div class="row mt-5">   
                <i class="fa fa-lg fa-arrow-left primary-font-color" title="Back" (click)="stepper.previous(); updateProgressBar('p');" ></i>
            </div>

            <div class="row mt-4">
                
                <img src="/assets/img/icons/Hourglass.png" alt="" class="w-25 mt-2 mb-2">

                <h2 class="pt-2">Verifying OTP</h2>
                <p>We have sent a 6-digit code to your registered number *********83. Please enter the OTP below once you receive it.</p>
            </div>

            <div class="row mt-3">

                <div class="col-12 mt-3">
                    <label for=""><b>OTP</b></label>
                    <input type="password" name="" id="" class="form-control mt-1" placeholder="Enter 6-digit OTP" >
                </div>
 
    
                <div class="col-12 mt-4">
                    <button class="w-100 btn btn-lg btn-danger" matStepperNext (click)="updateProgressBar('n')">Continue <i class="fa fa-arrow-right"></i></button>
                </div>
            </div>
          </form>
        </mat-step>

        <mat-step [stepControl]="thirdFormGroup">
        
            <form [formGroup]="signupForm" novalidate autocomplete="off" (ngSubmit)="onSubmit()">
                <div class="row mt-5">   
                    <i class="fa fa-lg fa-arrow-left primary-font-color" title="Back" (click)="stepper.previous(); updateProgressBar('p');" ></i>
                </div>

                <div class="row mt-4">
                    <h2 class="pt-2">Set up your credentials!</h2>
                    <p>Please choose a username and a password for your Alfa account</p>
                </div>

                <div class="col-12 mt-3">
                    <label for=""><b>Username</b></label>
                    <input type="text" name="" id="" class="form-control" formControlName="username" [ngClass]="{ 'is-valid': (submitted || f.username.dirty) && !f.username.errors, 'is-invalid': (submitted || f.username.dirty) && f.username.errors }">

                    <div class="invalid-feedback" *ngIf="f.username.errors">
                        <span *ngIf="f.username.errors">Username is required</span>
                        <!-- <span *ngIf="f.username.errors?.username">Username address is not valid</span> -->
                      </div>
                    <p class="instruction-text">Maximum 10 characters with a mix of letters and numbers</p>
                </div>

                <div class="col-12 mt-3">
                    <label for=""><b>Password</b></label>
                    <input type="password" name="" id="" class="form-control" placeholder="******">
                    <span>Strength: strong</span>
                    <p class="instruction-text">Minimum 10 characters with a mix of letters, numbers and special characters</p>
                </div>

                <div class="col-12 mt-4">
                    <button class="w-100 btn btn-lg btn-danger"  matStepperNext (click)="updateProgressBar('n')" [disabled]="signupForm.invalid" >Continue <i class="fa fa-arrow-right"></i> </button>

                    <div class="card mt-3">
                        <div class="card-body">
                            <div class="d-flex justify-content-between ps-3 pt-2">
                                <span><b>Have a referral code?</b></span>
                                <span class="primary-font-color" data-toggle="modal" (click)="referralModal()" style="cursor: pointer;"><b>+ Add</b></span>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
          
          <!-- <div>
            <button mat-button (click)="stepper.reset()">Reset</button>
          </div> -->
        </mat-step>

        <mat-step [stepControl]="fourthFormGroup">
            <div class="row mt-4">
                
                <img src="/assets/img/icons/Rocket.png" alt="" class="w-25 mt-2 mb-2">

                <h2 class="pt-2">Successfully set up your credentials</h2>
                <p>Congratulations! You’ve successfully set your credentials for logging into Alfa. Please download Alfa on your mobile and perform biometric verification to start using Internet Banking</p>
            </div>

            <div class="row mt-3">
                <div class="col-12">
                    
                    <div class="h-25 sequenceBox">
                        <div class="sequenceChildBox">
                            <div class="sequenceRedCircle"></div>
                            <div class="sequenceStep" style="color: #fff;">1</div>
                        </div>
                        <p class="mt-3">Perform Biometric verification through the Alfa App or Nearest Branch</p>
                    </div>

                    <div class="h-25 sequenceBox">
                        <div class="sequenceChildBox">
                            <div class="sequenceWhiteCircle"></div>
                            <div class="sequenceStep primary-font-color">2</div>
                        </div>
                        <p class="mt-3">Login to Alfa Web</p>
                    </div>

                    <div class="h-25 sequenceBox">
                        <div class="sequenceChildBox">
                            <div class="sequenceWhiteCircle"></div>
                            <div class="sequenceStep primary-font-color">3</div>
                        </div>
                        <p class="mt-3">Complete the set up</p>
                    </div>
                    
                </div>
            </div>

            <div class="row mt-1">
                <div class="col-12">
                    <a href="/auth/relationship-setup">
                        <button class="w-100 btn btn-lg btn-danger">Download Alfa  <i class="fa fa-external-link-alt"></i></button>
                    </a>
                </div>
            </div>

        </mat-step>
      </mat-stepper>

   </div>
</div>


<!-- old -->
<!-- <div class="col-12">
    <div class="col-lg-4 col-md-6 col-sm-12 col-xs-12 m-auto p-4 p-md-0">
         <div class="row mt-5">
             <i class="fa fa-lg fa-arrow-left primary-font-color" title="Back"></i>
         </div>
         
         <div class="row mt-4">
             <h2>Register with Alfa Web</h2>
             <p>Please enter your CNIC number or your POC/Passport number in case you’re a non-resident Pakistani</p>
         </div>
 
         <div class="row mt-3">
             <mat-tab-group>
                 <mat-tab label="CNIC">
 
                     <div class="col-12 mt-3">
                         <label for="">CNIC Number</label>
                         <input type="text" name="" id="" class="form-control mt-1" placeholder="e.g 00000-0000000-0">
                     </div>
 
                    
                     
                 </mat-tab>
                 <mat-tab label="Passport"> 
 
                     <div class="col-12 mt-3">
                         <label for="">Passport Number</label>
                         <input type="text" name="" id="" class="form-control" placeholder="e.g 00000-0000000-0">
                     </div>
                     
                    
 
                 </mat-tab>
 
                 
 
             </mat-tab-group> 
 
             <div class="col-12 mt-4">
                 <button class="w-100 btn btn-lg btn-danger">Get Started <i class="fa fa-arrow-right"></i></button>
             </div>
         </div>
    </div>
 </div> -->