<div class="row customerInfo p-3 ps-1">
    <div class="h5 p-0">
        <img src="/assets/img/icons/arrow-left.svg" alt="" (click)="back()" >Settings
    
        <img class="tabler-icon" src="/assets/img/icons/caret-right.svg" />
        Scheduled Payments
    </div>
</div>


<div class="row">
    <div class="col-12">
      <div class="col-lg-6 col-md-5 col-sm-12 col-xs-12 m-auto p-0 p-md-0 mt-5" data-aos="fade-up" data-aos-duration="1000">

        <mat-stepper [linear]="isLinear" #stepper>

            <mat-step [stepControl]="firstFormGroup">
            
                <form [formGroup]="firstFormGroup">

                    <div class="d-flex">
                        <div class="col">
                            <h4 class="p-0 m-0">Scheduled payments</h4>
                            
                        </div>
                        <div class="col">
                            <div class="d-flex justify-content-end justify-item-center">
                                <button class="btn btn-danger" routerLink="/mobile-topup/new-payee"><img src="/assets/img/icons/plus-icon.svg" alt="">  New Scheduled Payment</button>
                            </div>
                        </div>
                    </div>
            
                    <div class="d-block mt-1 mb-3 pt-1">
            
                        <div class="col-12">
                            <mat-chip-listbox aria-label="Satement Selection">
                                <mat-chip-option selected color="warn">All</mat-chip-option>
                                <mat-chip-option color="warn">Mobile Top-Up</mat-chip-option>
                                <mat-chip-option color="warn">Utility Bills</mat-chip-option>
                                <mat-chip-option color="warn">Bank Transfer</mat-chip-option>
                                
                            </mat-chip-listbox>
                        </div>
            
                    </div>
                    
                    <div class="d-flex flex-wrap mt-3">
            
                        @for (item of payees; track $index) {
                            <div style="min-width: 280px;" class="h-100 w-50" (click)="nextStep(stepper)">
                                <div class="col h-25 m-2 payeeBox">
                                    <div class="d-flex p-2 pb-1">
                                        <img src="/assets/img/icons/alfa-logo.svg" alt="">
                    
                                        <div class="ps-2">
                                            <p class="p-0 m-0"><b>Muhammad Ibrahim</b></p>
                                            <p class="p-0 m-0">Account | 03211172135</p>
                                            
                                        </div>
                    
                                        <div class="col text-end align-self-center align-item-center">
                                            <img src="/assets/img/icons/caret-right.svg" alt="">
                                        </div>
                                    </div>
                                    <div class="d-flex justify-content-between p-2 pt-1 m-0 ms-2 me-2" style="border-top: 1px solid #E1E1E1;">
                                        <p class="p-0 m-0">Weekly</p>
                                        <p class="p-0 m-0">Next payment: 20 Sep 2023</p>
                                    </div>
                    
                                </div>
                            </div>
                            
                        }
                        @empty {
                            Empty list of users
                        }
                        
            
                      
                    </div>

                </form>

            </mat-step>


            <mat-step [stepControl]="secondFormGroup">

                <form [formGroup]="secondFormGroup">

                    <div class="col-12 generalBox p-3 mt-2 pb-1">
                        <div class="d-flex">
                            <img src="/assets/img/icons/jazz-logo.svg" alt="">
                            
                            <div class="d-block ps-3 ">
                                <p class="p-0 m-0"><b>Ibrahim</b></p>
                                <p class="p-0 m-0">03141232734</p>
                            </div>

                        </div>
                    </div>

                    <div class="col-12 generalBox p-3 mt-2 pb-0">
                        <div class="p-2 pt-0">
                    
                            <div class="d-flex justify-content-between">
                                <p class="p-1 m-0">From account</p>
                                <p class="p-1 m-0"><b>57431231663731</b></p>
                            </div>

                            <div class="d-flex justify-content-between">
                                <p class="p-1 m-0">Amount</p>
                                <p class="p-1 m-0"><b>PKR 500</b></p>
                            </div>

                            <div class="d-flex justify-content-between">
                                <p class="p-1 m-0">Frequency</p>
                                <p class="p-1 m-0"><b>Monthly</b></p>
                            </div>

                        </div>
                    </div>

                    <div class="col-12 generalBox p-3 mt-2 pb-0">
                        <div class="p-2 pt-0">
                    
                            <div class="d-flex justify-content-between">
                                <p class="p-1 m-0">Starts on</p>
                                <p class="p-1 m-0"><b>26 July 2023</b></p>
                            </div>

                            <div class="d-flex justify-content-between">
                                <p class="p-1 m-0">Ends on</p>
                                <p class="p-1 m-0"><b>Until I cancel</b></p>
                            </div>

                            <div class="d-flex justify-content-between">
                                <p class="p-1 m-0">Last payment</p>
                                <p class="p-1 m-0"><b>26 Aug 2023</b></p>
                            </div>

                            <div class="d-flex justify-content-between">
                                <p class="p-1 m-0">Next payment</p>
                                <p class="p-1 m-0"><b>20 Sep 2023</b></p>
                            </div>

                        </div>
                    </div>

                    <div class="col-12 mt-3">
                        <button class="w-100 btn btn-lg btn-danger" matStepperNext (click)="nextStep(stepper)" >Edit Details  <img src="/assets/img/icons/edit-icon-white.svg" alt="" ></button>

                        <button class="w-100 btn btn-lg btn-outline-gray primary-font-color mt-2" (click)="confirmDelete()" >Delete Payment  <img src="/assets/img/icons/delete-bin.svg" alt="" ></button>
                    </div>
                  
                </form>

            </mat-step>

            <mat-step [stepControl]="thirdFormGroup">
                <form [formGroup]="thirdFormGroup">
                    
                    <div class="col">
                        <h4 class="p-0 m-0">Edit payment details</h4>
                    </div>

                    <div class="d-block mt-4">
                        <label for="Send to"><b>Send from</b></label>
                        <div class="h-100 w-100">
                            <mat-form-field class="w-100">
                                <mat-label>Account</mat-label>
                                <mat-select [formControl]="pokemonControl">
                                  <mat-option>-- None --</mat-option>
                                  @for (group of pokemonGroups; track group) {
                                    <mat-optgroup [label]="group.name"
                                                  [disabled]="group.disabled">
                                      @for (pokemon of group.pokemon; track pokemon) {
                                        <mat-option [value]="pokemon.value">
                                            <!-- <img src="/assets/img/icons/alfa-logo.svg" alt="">  -->
                                            {{pokemon.viewValue}}</mat-option>
                                      }
                                    </mat-optgroup>
                                  }
                                </mat-select>
                              </mat-form-field>
                        </div>
                       
                    </div>

                    <div class="d-block mb-3">
            
                        <div class="col-12">
                            <label for="">Frequency</label>
                            <mat-chip-listbox aria-label="Frequency Selection">
                                <mat-chip-option selected color="warn">Weekly</mat-chip-option>
                                <mat-chip-option color="warn">Quarterly</mat-chip-option>
                                <mat-chip-option color="warn">Monthly</mat-chip-option>
                                <mat-chip-option color="warn">Yearly</mat-chip-option>
                                
                            </mat-chip-listbox>
                        </div>
            
                    </div>

                    <div class="col">
                        <label for="">Number of Payments</label>
                        <select name="" id="" class="form-select form-control">
                            <option value="">3 Weeks</option>
                            <option value="">5 Weeks</option>
                            <option value="">10 Weeks</option>
                        </select>
                    </div>

                    <div class="col mt-2">
                        <label for="">Amount</label>
                        <input type="text" name="" id="" class="form-control mt-1" placeholder="500">
                    </div>

                    <div class="col mt-2">
                        <label for="">Starts on</label>
                        <input type="date" name="" id="" class="form-control mt-1" placeholder="500">
                    </div>

                    <div class="col mt-2">
                        <label for="">Ends on</label>
                        <input type="date" name="" id="" class="form-control mt-1" placeholder="500">
                    </div>

                    <div class="col mt-4">
                        <div class="d-flex align-items-center">
                            <input type="checkbox" name="" id="" style="width: 20px; height: 20px;" class="pe-2">
                            <label for="Select All" class="ps-2">I have read and agree to the Terms and conditions</label>
                        </div>
                    </div>


                    <div class="col-12 mt-3">
                        <button class="w-100 btn btn-lg btn-danger" matStepperNext (click)="nextStep(stepper)" >Update  <img src="/assets/img/icons/arrow-right-white.svg" alt="" ></button>
                    </div>
                </form>
            </mat-step>

            <mat-step [stepControl]="fourthFormGroup">
                <form [formGroup]="fourthFormGroup">
                    <div class="text-center">
                        <img src="/assets/img/icons/otp-phone.svg" alt="">
                    </div>

                    <h3>
                        Verify OTP
                    </h3>
                    <p>
                        Please enter the code we’ve sent to your mobile number *********83 below
                    </p>

                    <div class="col-12 mt-3">
                        <label for="">OTP</label>
                        <input type="password" name="" id="" class="form-control mt-1" placeholder="****" >
                    </div>

                    <div class="col-12 mt-4">
                        <button class="w-100 btn btn-lg btn-danger" matStepperNext  (click)="nextStep(stepper)">Pay PKR 2350/- <img src="/assets/img/icons/check-small.svg" alt=""></button>
                    </div>

                    <p style="color: #5D5D5D;" class="text-center mt-2">
                        Resend OTP in 00:40
                    </p>    
                </form>
            </mat-step>

            <mat-step [stepControl]="fifthFormGroup">
                <form [formGroup]="fifthFormGroup">
                    <div class="text-center">
                        <img src="/assets/img/icons/thumbs-up-frame.svg" alt="">
                    </div>

                    <h3 class="mt-4">
                        Your payment has been updated!
                    </h3>

                    <p class="mt-4">
                        You have successfully updated your scheduled mobile top up payment to payee Asfandiyar from Account PK12****1230 on a Weekly basis
                    </p>
                    <div class="col-12 mt-4">
                        <button class="w-100 btn btn-lg btn-danger">View scheduled payments </button>
                    </div>
                </form>
            </mat-step>

        </mat-stepper>
     </div>
    </div>
</div>